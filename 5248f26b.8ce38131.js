(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{78:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return c})),i.d(t,"metadata",(function(){return o})),i.d(t,"toc",(function(){return p})),i.d(t,"default",(function(){return l}));var n=i(3),a=i(7),r=(i(0),i(97)),c={id:"cli_commands",title:"CLI Commands"},o={unversionedId:"didkit/cli_commands",id:"didkit/cli_commands",isDocsHomePage:!1,title:"CLI Commands",description:"DIDKit offers its functionality in a command-line program, didkit.",source:"@site/docs\\didkit\\cli_commands.md",slug:"/didkit/cli_commands",permalink:"/docs/didkit/cli_commands",editUrl:"https://github.com/spruceid/docs/didkit/cli_commands.md",version:"current",sidebar:"docs",previous:{title:"Installation",permalink:"/docs/didkit/install"},next:{title:"HTTP Syntax",permalink:"/docs/didkit/http_syntax"}},p=[{value:"Build",id:"build",children:[]},{value:"Install",id:"install",children:[]},{value:"Commands",id:"commands",children:[{value:"<code>help</code>",id:"help",children:[]},{value:"<code>generate-ed25519-key</code>",id:"generate-ed25519-key",children:[]},{value:"<code>key-to-did-key</code>",id:"key-to-did-key",children:[]},{value:"<code>key-to-verification-method</code>",id:"key-to-verification-method",children:[]},{value:"<code>vc-issue-credential</code>",id:"vc-issue-credential",children:[]},{value:"<code>vc-verify-credential</code>",id:"vc-verify-credential",children:[]},{value:"<code>vc-issue-presentation</code>",id:"vc-issue-presentation",children:[]},{value:"<code>vc-verify-presentation</code>",id:"vc-verify-presentation",children:[]}]},{value:"Examples",id:"examples",children:[]}],b={toc:p};function l(e){var t=e.components,i=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},b,i,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"DIDKit offers its functionality in a command-line program, ",Object(r.b)("inlineCode",{parentName:"p"},"didkit"),"."),Object(r.b)("h2",{id:"build"},"Build"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"$ cargo build\n")),Object(r.b)("h2",{id:"install"},"Install"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sh"}),"$ cargo install --path .\n")),Object(r.b)("h2",{id:"commands"},"Commands"),Object(r.b)("p",null,"Each command is called in the form:\n",Object(r.b)("inlineCode",{parentName:"p"},"didkit help"),", ",Object(r.b)("inlineCode",{parentName:"p"},"didkit generate-ed25519-key"),", etc."),Object(r.b)("h3",{id:"help"},Object(r.b)("inlineCode",{parentName:"h3"},"help")),Object(r.b)("p",null,"Output help about ",Object(r.b)("inlineCode",{parentName:"p"},"didkit")," and its subcommands."),Object(r.b)("h3",{id:"generate-ed25519-key"},Object(r.b)("inlineCode",{parentName:"h3"},"generate-ed25519-key")),Object(r.b)("p",null,"Generate a Ed25519 keypair and output it in\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc8037#appendix-A.1"}),"JWK format"),"."),Object(r.b)("h3",{id:"key-to-did-key"},Object(r.b)("inlineCode",{parentName:"h3"},"key-to-did-key")),Object(r.b)("p",null,"Given a ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc7517"}),"JWK"),", output the corresponding ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/did-method-key/"}),"did:key"),"."),Object(r.b)("p",null,"Currently, this only supports\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc8037#appendix-A.2"}),"Ed25519")," keys."),Object(r.b)("h3",{id:"key-to-verification-method"},Object(r.b)("inlineCode",{parentName:"h3"},"key-to-verification-method")),Object(r.b)("p",null,"Given a Ed25519 ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc7517"}),"JWK"),", output the corresponding\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/did-method-key/"}),"did:key")," ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/security-vocab/#verificationMethod"}),"verificationMethod"),"."),Object(r.b)("h4",{id:"options"},"Options"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-k, --key-path <file>")," (required, conflicts with jwk):\nFilename of JWK file"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-j, --jwk <jwk>")," (required, conflicts with key-path):\nJWK.")),Object(r.b)("h3",{id:"vc-issue-credential"},Object(r.b)("inlineCode",{parentName:"h3"},"vc-issue-credential")),Object(r.b)("p",null,"Issue a verifiable credential. Reads credential on stdin,\nconstructs a ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/ld-proofs/"}),"linked data proof")," to add to the\ncredential, and outputs the resulting verifiable credential."),Object(r.b)("p",null,"Corresponds to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/#/Issuer/issueCredential"}),"/issue/credentials"),"\nin ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),"."),Object(r.b)("p",null,"The proof type is set automatically based on the key file provided.\nJWK parameters besides the cryptographic components, such as\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc7517#section-4.5"}),"kid")," (Key ID), are ignored currently. For an RSA key, the\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tools.ietf.org/html/rfc7517#section-4.4"}),"alg")," (Algorithm) parameter is ignored and ",Object(r.b)("inlineCode",{parentName:"p"},"RS256")," is used for\nit, for ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/lds-rsa2018/"}),"RsaSignature2018"),"."),Object(r.b)("h4",{id:"options-1"},"Options"),Object(r.b)("p",null,"Options besides ",Object(r.b)("inlineCode",{parentName:"p"},"--key-path")," correspond to linked data\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/ld-proofs/#dfn-proof-options"}),"proof options")," as specified in ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/ld-proofs/"}),"ld-proofs")," and ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-C, --challenge <challenge>")," - ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#challenge"}),"challenge")," property of the\nproof"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-c, --created <created>")," - ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#created"}),"created")," property of the proof.\nISO8601 datetime. Defaults to the current time."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-d, --domain <domain>")," - ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#domain"}),"domain")," property of the proof"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-k, --key-path <key>")," (required, conflicts with jwk):\nFilename of JWK for signing."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-j, --jwk <jwk>")," (required, conflicts with key-path):\nJWK for signing."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-p, --proof-purpose <proof-purpose>")," ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#proofPurpose"}),"proofPurpose"),"\nproperty of the proof."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-v, --verification-method <verification-method>"),Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#verificationMethod"}),"verificationMethod"),"\nproperty of the proof. URI for proof verification\ninformation, e.g. a public key identifier.")),Object(r.b)("h4",{id:"supported-jwk-key-types"},"Supported ",Object(r.b)("a",Object(n.a)({parentName:"h4"},{href:"https://tools.ietf.org/html/rfc7517#section-4.1"}),"JWK key types")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"RSA")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"OKP")," (",Object(r.b)("inlineCode",{parentName:"li"},"curve"),": ",Object(r.b)("inlineCode",{parentName:"li"},"Ed25519"),")")),Object(r.b)("h3",{id:"vc-verify-credential"},Object(r.b)("inlineCode",{parentName:"h3"},"vc-verify-credential")),Object(r.b)("p",null,"Verify a verifiable credential. Reads verifiable credential on\nstandard input, and outputs verification result. Returns exit\nstatus zero if credential successfully verified, or non-zero\nif errors were encountered."),Object(r.b)("p",null,"Corresponds to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/#/Verifier/verifyCredential"}),"/verify/credentials"),"\nin ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),"."),Object(r.b)("h4",{id:"options-2"},"Options"),Object(r.b)("p",null,"Options are linked data ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/ld-proofs/#dfn-proof-options"}),"proof options")," as specified in\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/ld-proofs/"}),"ld-proofs")," and ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),". If there is more than one\nproof present, at least one must pass all the requirements\npassed in the options."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-C, --challenge <challenge>")," - The ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#challenge"}),"challenge")," property\nof the proof must equal this value."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-c, --created <created>")," - The ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#created"}),"created")," property of the\nproof must be on or after the given ISO8601 datetime. Defaults\nto the current time. "),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-d, --domain <domain>")," - The ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#domain"}),"domain")," property of the proof\nmust equal the given value."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-p, --proof-purpose <proof-purpose>")," - The ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#proofPurpose"}),"proofPurpose"),"\nproperty of the proof must equal this value."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"-v, --verification-method <verification-method>")," - The\n",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/security-vocab/#verificationMethod"}),"verificationMethod")," property of the proof must equal this value.")),Object(r.b)("h4",{id:"supported-proof-types"},"Supported proof types"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/lds-rsa2018/"}),"RsaSignature2018")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://w3c-ccg.github.io/lds-ed25519-2018/"}),"Ed25519VerificationKey2018"))),Object(r.b)("h4",{id:"output"},"Output"),Object(r.b)("p",null,"The verification result output is a ",Object(r.b)("inlineCode",{parentName:"p"},"VerificationResult")," JSON\nobject as specified in ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'{\n  "checks": [],\n  "warnings": [],\n  "errors": []\n}\n')),Object(r.b)("p",null,"Verification result properties:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"checks")," - Array of strings indicating checks completed\non the credential."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"warnings")," - Array of warnings encountered during\nvalidation or verification."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"errors")," - Array of strings indicating errors encountered\nduring validation or verification. If ",Object(r.b)("inlineCode",{parentName:"li"},"errors")," is empty,\nthe credential is verified.")),Object(r.b)("h3",{id:"vc-issue-presentation"},Object(r.b)("inlineCode",{parentName:"h3"},"vc-issue-presentation")),Object(r.b)("p",null,"Issue a verifiable presentation. Reads presentation on stdin,\ngenerates proof to add to it, and outputs the resulting\nverifiable presentation."),Object(r.b)("p",null,"Corresponds to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/#/Holder/provePresentation"}),"/prove/presentations"),"\nin ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),"."),Object(r.b)("p",null,"Options are the same as for\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#vc-issue-credential"}),"vc-issue-credential"),"."),Object(r.b)("h3",{id:"vc-verify-presentation"},Object(r.b)("inlineCode",{parentName:"h3"},"vc-verify-presentation")),Object(r.b)("p",null,"Verify a verifiable presentation. Reads verifiable presentation\non stdin, and outputs verification result. Returns exit status\nzero if presentation successfully verified, or non-zero if\nerrors were encountered."),Object(r.b)("p",null,"Corresponds to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/#/Verifier/verifyPresentation"}),"/verify/presentations"),"\nin ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://w3c-ccg.github.io/vc-http-api/"}),"vc-http-api"),"."),Object(r.b)("p",null,"Options and output format are the same as for\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#vc-verify-credential"}),"vc-verify-credential"),"."),Object(r.b)("h2",{id:"examples"},"Examples"),Object(r.b)("p",null,"See the included ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"script1"}),"Script 1")," in the Examples section."))}l.isMDXComponent=!0},97:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return h}));var n=i(0),a=i.n(n);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var b=a.a.createContext({}),l=function(e){var t=a.a.useContext(b),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},s=function(e){var t=l(e.components);return a.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},u=a.a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,b=p(e,["components","mdxType","originalType","parentName"]),s=l(i),u=n,h=s["".concat(c,".").concat(u)]||s[u]||d[u]||r;return i?a.a.createElement(h,o(o({ref:t},b),{},{components:i})):a.a.createElement(h,o({ref:t},b))}));function h(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=i.length,c=new Array(r);c[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:n,c[1]=o;for(var b=2;b<r;b++)c[b]=i[b];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,i)}u.displayName="MDXCreateElement"}}]);