(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{105:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return h}));var n=i(0),r=i.n(n);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var l=r.a.createContext({}),b=function(e){var t=r.a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},s=function(e){var t=b(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),s=b(i),u=n,h=s["".concat(c,".").concat(u)]||s[u]||d[u]||a;return i?r.a.createElement(h,o(o({ref:t},l),{},{components:i})):r.a.createElement(h,o({ref:t},l))}));function h(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=i.length,c=new Array(a);c[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:n,c[1]=o;for(var l=2;l<a;l++)c[l]=i[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,i)}u.displayName="MDXCreateElement"},88:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return o})),i.d(t,"metadata",(function(){return p})),i.d(t,"toc",(function(){return l})),i.d(t,"default",(function(){return s}));var n=i(3),r=i(7),a=(i(0),i(105)),c=["components"],o={id:"cli_commands",title:"CLI Commands"},p={unversionedId:"didkit/cli_commands",id:"didkit/cli_commands",isDocsHomePage:!1,title:"CLI Commands",description:"DIDKit offers its functionality in a command-line program, didkit.",source:"@site/docs/didkit/cli_commands.md",slug:"/didkit/cli_commands",permalink:"/docs/didkit/cli_commands",editUrl:"https://github.com/spruceid/docs/didkit/cli_commands.md",version:"current",sidebar:"docs",previous:{title:"Installation",permalink:"/docs/didkit/install"},next:{title:"HTTP Syntax",permalink:"/docs/didkit/http_syntax"}},l=[{value:"Build",id:"build",children:[]},{value:"Install",id:"install",children:[]},{value:"Commands",id:"commands",children:[{value:"<code>help</code>",id:"help",children:[]},{value:"<code>generate-ed25519-key</code>",id:"generate-ed25519-key",children:[]},{value:"<code>key-to-did-key</code>",id:"key-to-did-key",children:[]},{value:"<code>key-to-verification-method</code>",id:"key-to-verification-method",children:[]},{value:"<code>vc-issue-credential</code>",id:"vc-issue-credential",children:[]},{value:"<code>vc-verify-credential</code>",id:"vc-verify-credential",children:[]},{value:"<code>vc-issue-presentation</code>",id:"vc-issue-presentation",children:[]},{value:"<code>vc-verify-presentation</code>",id:"vc-verify-presentation",children:[]}]},{value:"Examples",id:"examples",children:[]}],b={toc:l};function s(e){var t=e.components,i=Object(r.a)(e,c);return Object(a.b)("wrapper",Object(n.a)({},b,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"DIDKit offers its functionality in a command-line program, ",Object(a.b)("inlineCode",{parentName:"p"},"didkit"),"."),Object(a.b)("h2",{id:"build"},"Build"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"$ cargo build\n")),Object(a.b)("h2",{id:"install"},"Install"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-sh"},"$ cargo install --path .\n")),Object(a.b)("h2",{id:"commands"},"Commands"),Object(a.b)("p",null,"Each command is called in the form:\n",Object(a.b)("inlineCode",{parentName:"p"},"didkit help"),", ",Object(a.b)("inlineCode",{parentName:"p"},"didkit generate-ed25519-key"),", etc."),Object(a.b)("h3",{id:"help"},Object(a.b)("inlineCode",{parentName:"h3"},"help")),Object(a.b)("p",null,"Output help about ",Object(a.b)("inlineCode",{parentName:"p"},"didkit")," and its subcommands."),Object(a.b)("h3",{id:"generate-ed25519-key"},Object(a.b)("inlineCode",{parentName:"h3"},"generate-ed25519-key")),Object(a.b)("p",null,"Generate a Ed25519 keypair and output it in\n",Object(a.b)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc8037#appendix-A.1"},"JWK format"),"."),Object(a.b)("h3",{id:"key-to-did-key"},Object(a.b)("inlineCode",{parentName:"h3"},"key-to-did-key")),Object(a.b)("p",null,"Given a ",Object(a.b)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc7517"},"JWK"),", output the corresponding ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/did-method-key/"},"did:key"),"."),Object(a.b)("p",null,"Currently, this only supports\n",Object(a.b)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc8037#appendix-A.2"},"Ed25519")," keys."),Object(a.b)("h3",{id:"key-to-verification-method"},Object(a.b)("inlineCode",{parentName:"h3"},"key-to-verification-method")),Object(a.b)("p",null,"Given a Ed25519 ",Object(a.b)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc7517"},"JWK"),", output the corresponding\n",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/did-method-key/"},"did:key")," ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/security-vocab/#verificationMethod"},"verificationMethod"),"."),Object(a.b)("h4",{id:"options"},"Options"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-k, --key-path <file>")," (required, conflicts with jwk):\nFilename of JWK file"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-j, --jwk <jwk>")," (required, conflicts with key-path):\nJWK.")),Object(a.b)("h3",{id:"vc-issue-credential"},Object(a.b)("inlineCode",{parentName:"h3"},"vc-issue-credential")),Object(a.b)("p",null,"Issue a verifiable credential. Reads credential on stdin,\nconstructs a ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/ld-proofs/"},"linked data proof")," to add to the\ncredential, and outputs the resulting verifiable credential."),Object(a.b)("p",null,"Corresponds to ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/#/Issuer/issueCredential"},"/issue/credentials"),"\nin ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),"."),Object(a.b)("p",null,"The proof type is set automatically based on the key file provided.\nJWK parameters besides the cryptographic components, such as\n",Object(a.b)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc7517#section-4.5"},"kid")," (Key ID), are ignored currently. For an RSA key, the\n",Object(a.b)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc7517#section-4.4"},"alg")," (Algorithm) parameter is ignored and ",Object(a.b)("inlineCode",{parentName:"p"},"RS256")," is used for\nit, for ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/lds-rsa2018/"},"RsaSignature2018"),"."),Object(a.b)("h4",{id:"options-1"},"Options"),Object(a.b)("p",null,"Options besides ",Object(a.b)("inlineCode",{parentName:"p"},"--key-path")," correspond to linked data\n",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/ld-proofs/#dfn-proof-options"},"proof options")," as specified in ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/ld-proofs/"},"ld-proofs")," and ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),"."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-C, --challenge <challenge>")," - ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#challenge"},"challenge")," property of the\nproof"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-c, --created <created>")," - ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#created"},"created")," property of the proof.\nISO8601 datetime. Defaults to the current time."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-d, --domain <domain>")," - ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#domain"},"domain")," property of the proof"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-k, --key-path <key>")," (required, conflicts with jwk):\nFilename of JWK for signing."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-j, --jwk <jwk>")," (required, conflicts with key-path):\nJWK for signing."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-p, --proof-purpose <proof-purpose>")," ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#proofPurpose"},"proofPurpose"),"\nproperty of the proof."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-v, --verification-method <verification-method>"),Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#verificationMethod"},"verificationMethod"),"\nproperty of the proof. URI for proof verification\ninformation, e.g. a public key identifier.")),Object(a.b)("h4",{id:"supported-jwk-key-types"},"Supported ",Object(a.b)("a",{parentName:"h4",href:"https://tools.ietf.org/html/rfc7517#section-4.1"},"JWK key types")),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"RSA")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"OKP")," (",Object(a.b)("inlineCode",{parentName:"li"},"curve"),": ",Object(a.b)("inlineCode",{parentName:"li"},"Ed25519"),")")),Object(a.b)("h3",{id:"vc-verify-credential"},Object(a.b)("inlineCode",{parentName:"h3"},"vc-verify-credential")),Object(a.b)("p",null,"Verify a verifiable credential. Reads verifiable credential on\nstandard input, and outputs verification result. Returns exit\nstatus zero if credential successfully verified, or non-zero\nif errors were encountered."),Object(a.b)("p",null,"Corresponds to ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/#/Verifier/verifyCredential"},"/verify/credentials"),"\nin ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),"."),Object(a.b)("h4",{id:"options-2"},"Options"),Object(a.b)("p",null,"Options are linked data ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/ld-proofs/#dfn-proof-options"},"proof options")," as specified in\n",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/ld-proofs/"},"ld-proofs")," and ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),". If there is more than one\nproof present, at least one must pass all the requirements\npassed in the options."),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-C, --challenge <challenge>")," - The ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#challenge"},"challenge")," property\nof the proof must equal this value."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-c, --created <created>")," - The ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#created"},"created")," property of the\nproof must be on or after the given ISO8601 datetime. Defaults\nto the current time. "),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-d, --domain <domain>")," - The ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#domain"},"domain")," property of the proof\nmust equal the given value."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-p, --proof-purpose <proof-purpose>")," - The ",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#proofPurpose"},"proofPurpose"),"\nproperty of the proof must equal this value."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"-v, --verification-method <verification-method>")," - The\n",Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/security-vocab/#verificationMethod"},"verificationMethod")," property of the proof must equal this value.")),Object(a.b)("h4",{id:"supported-proof-types"},"Supported proof types"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/lds-rsa2018/"},"RsaSignature2018")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",{parentName:"li",href:"https://w3c-ccg.github.io/lds-ed25519-2018/"},"Ed25519VerificationKey2018"))),Object(a.b)("h4",{id:"output"},"Output"),Object(a.b)("p",null,"The verification result output is a ",Object(a.b)("inlineCode",{parentName:"p"},"VerificationResult")," JSON\nobject as specified in ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),":"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-json"},'{\n  "checks": [],\n  "warnings": [],\n  "errors": []\n}\n')),Object(a.b)("p",null,"Verification result properties:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"checks")," - Array of strings indicating checks completed\non the credential."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"warnings")," - Array of warnings encountered during\nvalidation or verification."),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"errors")," - Array of strings indicating errors encountered\nduring validation or verification. If ",Object(a.b)("inlineCode",{parentName:"li"},"errors")," is empty,\nthe credential is verified.")),Object(a.b)("h3",{id:"vc-issue-presentation"},Object(a.b)("inlineCode",{parentName:"h3"},"vc-issue-presentation")),Object(a.b)("p",null,"Issue a verifiable presentation. Reads presentation on stdin,\ngenerates proof to add to it, and outputs the resulting\nverifiable presentation."),Object(a.b)("p",null,"Corresponds to ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/#/Holder/provePresentation"},"/prove/presentations"),"\nin ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),"."),Object(a.b)("p",null,"Options are the same as for\n",Object(a.b)("a",{parentName:"p",href:"#vc-issue-credential"},"vc-issue-credential"),"."),Object(a.b)("h3",{id:"vc-verify-presentation"},Object(a.b)("inlineCode",{parentName:"h3"},"vc-verify-presentation")),Object(a.b)("p",null,"Verify a verifiable presentation. Reads verifiable presentation\non stdin, and outputs verification result. Returns exit status\nzero if presentation successfully verified, or non-zero if\nerrors were encountered."),Object(a.b)("p",null,"Corresponds to ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/#/Verifier/verifyPresentation"},"/verify/presentations"),"\nin ",Object(a.b)("a",{parentName:"p",href:"https://w3c-ccg.github.io/vc-http-api/"},"vc-http-api"),"."),Object(a.b)("p",null,"Options and output format are the same as for\n",Object(a.b)("a",{parentName:"p",href:"#vc-verify-credential"},"vc-verify-credential"),"."),Object(a.b)("h2",{id:"examples"},"Examples"),Object(a.b)("p",null,"See the included ",Object(a.b)("a",{parentName:"p",href:"script1"},"Script 1")," in the Examples section."))}s.isMDXComponent=!0}}]);